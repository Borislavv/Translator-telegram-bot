{{template "base" .}}

{{define "content"}}
    <h2 align="center" class="jumbotron-base-title">
        <a href="javascript:void(0)" class="content-header" style="pointer-events: none;" disabled>Notifications</a>
    </h2><hr>
    
    {{if not .Content.ErrorMessage}}
        {{if .Content.Notifications}}
            <table class="table">
                <thead class="thead-dark">
                    <tr>
                    <th scope="col">#</th>
                    <th scope="col">Message</th>
                    <th scope="col">Scheduled for</th>
                    </tr>
                </thead>
                <tbody>
                    {{range $key, $notification := .Content.Notifications}}
                        <tr>
                            <th scope="row">{{$.Funcs.Inc $key}}</th>
                            <td>{{$.Funcs.PregReplace `\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}` $notification.Message ""}}</td>
                            <td>{{$notification.ScheduledFor.Format "Jan 02, 2006 15:04:05 UTC"}}</td>
                        </tr>
                    {{end}}
                </tbody>
        {{end}}
    {{else}}
        <div class="alert alert-danger" role="alert">
            {{.Content.ErrorMessage}}

            <hr><a href="{{.Content.LoginByTokenLink}}">Login >></a>
        </div>
    {{end}}
{{end}}